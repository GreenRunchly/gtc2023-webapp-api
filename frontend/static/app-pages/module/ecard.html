<script src="js/html5-qrcode.min.js" type="text/javascript"></script>
<style>
    input[type="file"] {
        display: none;
    }
    #qrReader{
        max-height: 0px;
    }
</style>
<p>Upload E-Card untuk identifikasi kepemilikan akun.</p><br>
<label class="tombol">
    <input type="file" id="qr-input-file" accept="image/*">
    <span>Pilih File</span>
</label>
<div id="qrReader"></div><br>
<script>

    // ECard Reader
    const html5QrCode = new Html5Qrcode("qrReader");

    const fileinput = document.getElementById('qr-input-file');
    fileinput.addEventListener('change', e => {
        if (e.target.files.length == 0) {
            // No file selected, ignore 
            return;
        }

        const imageFile = e.target.files[0];
        // Scan QR Code
        html5QrCode.scanFile(imageFile, true)
        .then(decodedText => {
            scanBerhasil(decodedText);
            console.log(decodedText);
        })
        .catch(err => {
            // failure, handle it.
            console.log(`Error scanning file. Reason: ${err}`)
        });
    });

</script>
