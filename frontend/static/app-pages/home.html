<div class="container">
    <div class="content">

        <!-- Module Greeting -->
        <h2 class="module-greeting"></h2>
        <script>
            // Module Greeting
            function moduleMainGreeting(target, data) {
                let ohtml = ``;
                if (data != []){
                    if (data > 20) {
                        ohtml = `Selamat Malam! <i class="fas fa-moon-stars"></i>`;
                    } else if (data > 17) {
                        ohtml = `Selamat Sore! <i class="fas fa-sun-haze"></i>`;
                    } else if (data > 10) {
                        ohtml = `Selamat Siang! <i class="fas fa-sun"></i>`;
                    } else{
                        ohtml = `Selamat Pagi! <i class="fas fa-sun-haze"></i>`;
                    }
                }else{
                    ohtml = `Selamat Pagi! <i class="fas fa-sun-haze"></i>`;
                }
        
                // Menulis greeting
                target.html(ohtml);
            };
            // Loop Greeting
            let onceProcGreet = setInterval(() => {
                moduleMainGreeting($('.module-greeting'), appDateHour);
            }, 1000);
        </script>      
        <!-- Module Greeting -->

        <h4 class="module-user-kelas"></h4>

        <!-- Module Thumbnail -->
        <div class="swiper module-thumb-swipe round">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="thumbnail"></div>
                </div>
            </div>
        </div>
        <script>
            // Module Thumbnail
            function moduleMainThumbnail(target, data) {
                let ohtml = ``;
                if (data != []){
                    $.each(data, function( i, v ) {
                        let thumnailUrl = v;
                        ohtml += `
                            <div class="swiper-slide">
                                <div class="thumbnail" style="--src: url('${thumnailUrl}');"></div>
                            </div>
                        `;
                    }); 
                }else{
                    ohtml += `
                        <div class="swiper-slide">
                            <div class="thumbnail" style="--src: url('../foto-destinasi/trikabta.jpeg');"></div>
                        </div>
                    `;
                }

                // Menghapus isi slide yang ada dan timpa html dengan yang baru dari urlSource
                target.removeAllSlides();
                target.appendSlide(ohtml);
            };
            moduleMainThumbnail(mainThumbnailSwipe, appDataThumbnail);

            // Init obj Swiper Thumbnail
            let mainThumbnailSwipe = new Swiper('.module-thumb-swipe', {
                slidesPerView: 'auto',
                spaceBetween: 8,
                autoplay: {
                    delay: 2000,
                    disableOnInteraction: false,
                },
                centeredSlides: false,
                loop: true
            });
        </script>
        <!-- Module Thumbnail -->

        <!-- Module Countdown -->
        <div class="content" id="countdown">
            <div class="container module-countdown countdown-container" style="padding-bottom:0rem;padding-top: 1rem;" >
                <h1 class="countdown-title">
                    <span>Goes To Campus</span><span>Count Down</span>
                </h1>
                <div id="daftar-siswa" class="pencil-style"></div>
                <div class="digits digits-special">
                    <div class="digit">
                        <div class="number">0</div>
                        <div class="label">Hari lagi!</div>
                    </div>
                </div>
                <div class="digits">
                    <div class="digit">
                        <div class="number">00</div>
                        <div class="label">Jam</div>
                    </div>
                    <div class="digit">
                        <div class="number">00</div>
                        <div class="label">Menit</div>
                    </div>
                    <div class="digit">
                        <div class="number">00</div>
                        <div class="label">Detik</div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            // Module Countdown
            function moduleMainCountdown(target, data) {
                let procCountDown = setInterval(() => {
                    // Init Countdown
                    let finaleCountDown = new Date(data).getTime();
                    let resultCountDown = `...`;

                    // Starter
                    let timeNow = appDate;
                    let timeLeft = finaleCountDown - timeNow;

                    // Kalkulai masing-masing waktu
                    let timeSec = Math.floor((timeLeft % (1000 * 60)) / 1000);
                    let timeMin = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                    let timeHour = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    let timeDay = Math.floor(timeLeft / (1000 * 60 * 60 * 24));

                    // Tampilkan countdown atau ended
                    if (timeLeft > 0){
                        // Detik
                        $(`#countdown .digits .digit`).eq(3).children().eq(0).html(appFuncTimeFormat(timeSec));
                        // Menit
                        $(`#countdown .digits .digit`).eq(2).children().eq(0).html(appFuncTimeFormat(timeMin));
                        // Jam
                        $(`#countdown .digits .digit`).eq(1).children().eq(0).html(appFuncTimeFormat(timeHour));
                        // Hari
                        $(`#countdown .digits .digit`).eq(0).children().eq(0).html(timeDay);
                        $(`#countdown`).show();
                    }else{
                        // Ganti menjadi teks ended
                        $(`#countdown .digits.digits-special .digit .number`).html(`End`);
                        $(`#countdown .digits.digits-special .digit .label`).remove();
                        $(`#countdown`).hide();
                        // Matikan proses Count Down
                        clearInterval(procCountDown);
                    }
                }, 1000);
            }
            let loopProcMainCountdown = setInterval(() => {
                moduleMainCountdown($('#countdown'), appDataCountdownDate);
            }, 1000);
        </script>
        <!-- Module Countdown -->

        <!-- Module Main Menu -->
        <div class="container swiper module-swipe-mainmenu round">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <a class="tombol" id="helpdesk" target="_blank" href="">
                        <h2><span><i class="fab fa-whatsapp"></i></span></h2>
                        <h4>Wali Kelas</h4>
                    </a>
                </div>
                <div class="swiper-slide">
                    <a class="tombol" onclick="moduleUserTheme(true);">
                        <h2><span><i class="fas fa-adjust"></i></span></h2>
                        <h4>Ganti Tema</h4>
                    </a>
                </div>
                <div class="swiper-slide">
                    <a class="tombol toggle" toggle-id="app-pengaturan">
                        <h2><span><i class="fas fa-chalkboard-teacher"></i></span></h2>
                        <h4>Ganti Kelas</h4>
                    </a>
                </div>
            </div>
        </div>
        <script>
            // Untuk menus
            let mainMenuSwipe = new Swiper('.module-swipe-mainmenu', {
                slidesPerView: 2,
                spaceBetween: 8
            });

            // Helpdesk Subpart
            let loopProcHelpdesk = setInterval(() => {
                moduleMainMenuHelpdesk($("#helpdesk"), appDataHelpdesk);
            }, 1000);
            function moduleMainMenuHelpdesk(target, data) {
                // Proses berjalan
                let procHelpdesk= setInterval(() => {
                    if (data != []){
                        let tmpkelas = $("#app_pengaturan_kelas").val();
                        let number = data[tmpkelas];
                        target.attr('href',`https://wa.me/${atob(number)}`);
                    }
                });
            }

            // Theme Subpart
            function moduleAppTheme(target, data) {
                $("#css-theme-dark").attr('rel',tmptheme);
            }
        </script>
        <!-- Module Main Menu -->
    </div>
</div>